<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8"/>
		<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
		<meta name="apple-mobile-web-app-capable" content="yes" />
		<script src='jquery-3.3.1.min.js'></script>
		<link rel="stylesheet" href="app.css">
		<script async src="app.js"></script>
		<title>DAVIS LoRaWAN Repeater</title>
	</head>
	<body>
	<header>
		<div class="buttons">
			<input type="button" value="Restart ESP" onclick="restartEsp();">
			<input type="button" value="Clear and restart ESP" onclick="ClearAndRestartEsp();">
		</div>
		<h1>DAVIS LoRaWAN Repeater</h1>
		<div class="row" id="navigation_tabs">
			<div class="col-3">
				<input id="configurations_button" type="button" value="Configurations" onclick="changeTab(1);">
			</div>
			<div class="col-3">
				<input id="ota_button" type="button" value="OTA" onclick="changeTab(2);">
			</div>
		</div>
	</header>
	
	<div id="CONFIGURATIONS" class="information_box" style="display: none;">
		<div id="LORAWAN_CONF">
			<h2 class="configuration">LoRaWAN Credentials</h2> <span class="dot" id="LORAWAN_STATUS"></span> <br>

			<div class="row">
				<div class="col-2">
					<label>App EUI: <input type="text" id="APP_EUI" name="APP_EUI" maxlength="16" disabled/></label>
				</div>
				<div class="col-2">
					<label>Dev EUI: <input type="text" id="DEV_EUI" name="DEV_EUI" maxlength="16" disabled/></label>
				</div>
				<div class="col-2">
					<label>App Key: <input type="text" id="APP_KEY" name="APP_KEY" maxlength="32" disabled/></label>
				</div>
				<div class="col-7">
				</div>
				<div class="col-1">
					<input type="button" value="Submit" id="LORAWAN_SUBMIT" onclick="submitLoRaWANConf();" hidden> 
					<input type="button" value="Edit" id="LORAWAN_EDIT" onclick="editLoRaWANConf();">
				</div>
			</div>
		</div>
		<hr>
		
		<div id="DAVIS_CONF">
			<h2 class="configuration">DAVIS Configuration</h2> <span class="dot" id="DAVIS_STATUS"></span> <br>

			<div class="row">
				<div class="col-2">
					<label>Send interval (secs): <input type="number" id="SEND_INTERVAL" name="SEND_INTERVAL" min="60" disabled/></label>
				</div>
				<div class="col-2">
					<label>Station 1: <input type="checkbox" id="STATION_1" name="STATION_1" disabled/></label>
				</div>
				<div class="col-2">
					<label>Station 2: <input type="checkbox" id="STATION_2" name="STATION_2" disabled/></label>
				</div>
				<div class="col-2">
					<label>Station 3: <input type="checkbox" id="STATION_3" name="STATION_3" disabled/></label>
				</div>
				<div class="col-2">
					<label>Station 4: <input type="checkbox" id="STATION_4" name="STATION_4" disabled/></label>
				</div>
				<div class="col-2">
					<label>Station 5: <input type="checkbox" id="STATION_5" name="STATION_5" disabled/></label>
				</div>
				<div class="col-2">
					<label>Station 6: <input type="checkbox" id="STATION_6" name="STATION_6" disabled/></label>
				</div>
				<div class="col-2">
					<label>Station 7: <input type="checkbox" id="STATION_7" name="STATION_7" disabled/></label>
				</div>
				<div class="col-2">
					<label>Station 8: <input type="checkbox" id="STATION_8" name="STATION_8" disabled/></label>
				</div>
				<div class="col-7">
				</div>
				<div class="col-7">
					<label>Debug Mode: <input type="checkbox" id="DAVIS_DEBUG_TRACE" name="DAVIS_DEBUG_TRACE" disabled/></label>
				</div>
				<div class="col-7">
				</div>
				<div class="col-1">
					<input type="button" value="Submit" id="DAVIS_SUBMIT" onclick="submitDAVISConf();" hidden> 
					<input type="button" value="Edit" id="DAVIS_EDIT" onclick="editDAVISConf();">
				</div>
			</div>
		</div>
		<hr>	
	</div>
	
	<div id="OTA" class="information_box" style="display: none;">
		<label id="latest_firmware_label">Latest Firmware: </label>
		<div id="latest_firmware"></div> 
		<input type="file" id="selected_file" accept=".bin" style="display: none;" onchange="getFileInfo()" />
		<div class="buttons">
			<input type="button" value="Select File" onclick="document.getElementById('selected_file').click();" />
			<input type="button" value="Update Firmware" onclick="updateFirmware()" />
		</div>
		<h4 id="file_info"></h4>	
		<h4 id="ota_update_status"></h4>
	</div>
		
	</body>
<html>
